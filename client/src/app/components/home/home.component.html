<div class="home-wrapper h-100">
    <div *ngIf="user" class="container">
        <div id="profile-container">
            <div id="profile">
                <div id="profile-picture">
                    <img src="https://t4.ftcdn.net/jpg/02/15/84/43/360_F_215844325_ttX9YiIIyeaR7Ne6EaLLjMAmy4GvPC69.jpg"
                        alt="profile_picture">
                </div>
                <div class="profile-flex" fxLayout="column">
                    <div id="profile-name">
                        <h3>{{ user.nom }} {{ user.prenom }}</h3>
                    </div>
                    <div fxLayout="row">
                        <div id="profile-data">{{ user.postCount }} publications</div>
                </div> 
                <div class="sub-buttons">
                    <button mat-raised-button *ngIf="!user.followed && !mypage" color="accent" (click)="follow()">S'abonner</button>
                    <button mat-raised-button *ngIf="user.followed && !mypage" color="warn" (click)="unfollow()">Se d√©sabonner</button>
                </div> 
                </div>
                    <div id="upload-button">
                        <button mat-stroked-button *ngIf="mypage" color="accent" (click)="openDialog()">Publier une photo</button>
                    </div>
            </div>
        </div>
        <div id="posts-container">
            <div id="posts">
                <mat-grid-list #grid *ngIf="user.posts.length > 0; else elseBlock" [cols]="cols" rowHeight="1:1"
                    [gutterSize]="'20px'">
                    <mat-grid-tile class="grid-tile" matRipple *ngFor="let post of user.posts"
                        (click)="openPostPage(post.id)"><img src="{{ post.url }}"></mat-grid-tile>
                </mat-grid-list>
                <ng-template #elseBlock>
                    <div class="noposts">
                        <mat-icon class="icon" aria-hidden="false">sentiment_neutral</mat-icon>
                        <span>No posts found.</span>
                    </div>
                </ng-template>
            </div>
        </div>
    </div>
</div>